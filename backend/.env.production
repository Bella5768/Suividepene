# Production Environment Configuration
# IMPORTANT: Never commit this file to version control
# Copy this file to .env and fill in the actual values

# ============================================================================
# DJANGO SETTINGS
# ============================================================================

# Generate a strong SECRET_KEY using:
# python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-generated-secret-key-here-minimum-50-characters

# NEVER set to True in production
DEBUG=False

# Your production domain(s), comma-separated
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database engine (use mysql for production)
DB_ENGINE=django.db.backends.mysql

# Database name
DB_NAME=suivi_depense_prod

# Database user (create a dedicated user with limited privileges)
DB_USER=suivi_user

# Database password (use a strong password)
DB_PASSWORD=your-strong-database-password-here

# Database host (use your database server hostname or IP)
DB_HOST=db.yourdomain.com

# Database port (default 3306 for MySQL)
DB_PORT=3306

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# Allowed origins for CORS requests (your frontend domain)
# In production, restrict to your actual domain only
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# Email backend (use smtp for production)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# SMTP server (e.g., smtp.office365.com for Outlook)
EMAIL_HOST=smtp.office365.com

# SMTP port (usually 587 for TLS)
EMAIL_PORT=587

# Use TLS for email
EMAIL_USE_TLS=True

# Don't use SSL if using TLS
EMAIL_USE_SSL=False

# Email account credentials
EMAIL_HOST_USER=support@yourdomain.com
EMAIL_HOST_PASSWORD=your-email-account-password

# Default sender email address
DEFAULT_FROM_EMAIL=support@yourdomain.com

# Server email (for system notifications)
SERVER_EMAIL=support@yourdomain.com

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Redirect all HTTP to HTTPS
SECURE_SSL_REDIRECT=True

# Secure session cookies
SESSION_COOKIE_SECURE=True

# Secure CSRF cookies
CSRF_COOKIE_SECURE=True

# HSTS (HTTP Strict Transport Security) - 1 year in seconds
SECURE_HSTS_SECONDS=31536000

# Include subdomains in HSTS
SECURE_HSTS_INCLUDE_SUBDOMAINS=True

# HSTS preload
SECURE_HSTS_PRELOAD=True

# ============================================================================
# CACHING (Redis)
# ============================================================================

# Redis URL for caching and Celery
# Format: redis://[:password]@host:port/db
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# CELERY CONFIGURATION
# ============================================================================

# Celery broker URL (use Redis)
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery result backend (use Redis)
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# ERROR TRACKING (Sentry)
# ============================================================================

# Sentry DSN for error tracking (get from sentry.io)
# Leave empty to disable Sentry
SENTRY_DSN=

# ============================================================================
# LOGGING
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/var/log/suivi-depense/django.log

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment name (development, staging, production)
ENVIRONMENT=production

# Timezone (e.g., Europe/Paris, Africa/Conakry)
TIME_ZONE=Europe/Paris

# Language code
LANGUAGE_CODE=fr-fr

# ============================================================================
# NOTES
# ============================================================================

# 1. Generate SECRET_KEY:
#    python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
#
# 2. Create database user:
#    CREATE USER 'suivi_user'@'localhost' IDENTIFIED BY 'password';
#    GRANT ALL PRIVILEGES ON suivi_depense_prod.* TO 'suivi_user'@'localhost';
#
# 3. For email, use an app-specific password if using Office 365
#
# 4. Ensure Redis is running:
#    redis-server
#
# 5. Test configuration:
#    python manage.py check --deploy
#
# 6. Collect static files:
#    python manage.py collectstatic --noinput
#
# 7. Run migrations:
#    python manage.py migrate
