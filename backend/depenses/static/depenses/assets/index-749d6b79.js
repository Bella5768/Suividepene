import{r as O,a as tt,b as nt,c as C}from"./vendor-194d1c16.js";import{R as rt,a as Te,B as it}from"./router-862debcb.js";import{_ as st}from"./utils-0bb37fbe.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var je={exports:{}},ue={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=O,at=Symbol.for("react.element"),ut=Symbol.for("react.fragment"),ct=Object.prototype.hasOwnProperty,lt=ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ft={key:!0,ref:!0,__self:!0,__source:!0};function Ue(n,t,i){var e,r={},s=null,o=null;i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(e in t)ct.call(t,e)&&!ft.hasOwnProperty(e)&&(r[e]=t[e]);if(n&&n.defaultProps)for(e in t=n.defaultProps,t)r[e]===void 0&&(r[e]=t[e]);return{$$typeof:at,type:n,key:s,ref:o,props:r,_owner:lt.current}}ue.Fragment=ut;ue.jsx=Ue;ue.jsxs=Ue;je.exports=ue;var ke=je.exports;const B=ke.jsx,Be=ke.jsxs;var _e={},Fe=tt;_e.createRoot=Fe.createRoot,_e.hydrateRoot=Fe.hydrateRoot;function ce(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,st(n,t)}var le=function(){function n(){this.listeners=[]}var t=n.prototype;return t.subscribe=function(e){var r=this,s=e||function(){};return this.listeners.push(s),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==s}),r.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},n}();function w(){return w=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var e in i)({}).hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},w.apply(null,arguments)}var Ke=typeof window>"u";function M(){}function dt(n,t){return typeof n=="function"?n(t):n}function ht(n){return typeof n=="number"&&n>=0&&n!==1/0}function ie(n){return Array.isArray(n)?n:[n]}function pt(n,t){return Math.max(n+(t||0)-Date.now(),0)}function me(n,t,i){return fe(n)?typeof t=="function"?w({},i,{queryKey:n,queryFn:t}):w({},t,{queryKey:n}):n}function z(n,t,i){return fe(n)?[w({},t,{queryKey:n}),i]:[n||{},t]}function mt(n,t){if(n===!0&&t===!0||n==null&&t==null)return"all";if(n===!1&&t===!1)return"none";var i=n??!t;return i?"active":"inactive"}function Ae(n,t){var i=n.active,e=n.exact,r=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,u=n.stale;if(fe(a)){if(e){if(t.queryHash!==Ee(a,t.options))return!1}else if(!se(t.queryKey,a))return!1}var l=mt(i,s);if(l==="none")return!1;if(l!=="all"){var f=t.isActive();if(l==="active"&&!f||l==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||typeof r=="boolean"&&t.isFetching()!==r||o&&!o(t))}function xe(n,t){var i=n.exact,e=n.fetching,r=n.predicate,s=n.mutationKey;if(fe(s)){if(!t.options.mutationKey)return!1;if(i){if(V(t.options.mutationKey)!==V(s))return!1}else if(!se(t.options.mutationKey,s))return!1}return!(typeof e=="boolean"&&t.state.status==="loading"!==e||r&&!r(t))}function Ee(n,t){var i=(t==null?void 0:t.queryKeyHashFn)||V;return i(n)}function V(n){var t=ie(n);return vt(t)}function vt(n){return JSON.stringify(n,function(t,i){return Ce(i)?Object.keys(i).sort().reduce(function(e,r){return e[r]=i[r],e},{}):i})}function se(n,t){return ze(ie(n),ie(t))}function ze(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?!Object.keys(t).some(function(i){return!ze(n[i],t[i])}):!1}function He(n,t){if(n===t)return n;var i=Array.isArray(n)&&Array.isArray(t);if(i||Ce(n)&&Ce(t)){for(var e=i?n.length:Object.keys(n).length,r=i?t:Object.keys(t),s=r.length,o=i?[]:{},a=0,u=0;u<s;u++){var l=i?u:r[u];o[l]=He(n[l],t[l]),o[l]===n[l]&&a++}return e===s&&a===e?n:o}return t}function Ce(n){if(!De(n))return!1;var t=n.constructor;if(typeof t>"u")return!0;var i=t.prototype;return!(!De(i)||!i.hasOwnProperty("isPrototypeOf"))}function De(n){return Object.prototype.toString.call(n)==="[object Object]"}function fe(n){return typeof n=="string"||Array.isArray(n)}function yt(n){return new Promise(function(t){setTimeout(t,n)})}function qe(n){Promise.resolve().then(n).catch(function(t){return setTimeout(function(){throw t})})}function Ve(){if(typeof AbortController=="function")return new AbortController}var gt=function(n){ce(t,n);function t(){var e;return e=n.call(this)||this,e.setup=function(r){var s;if(!Ke&&((s=window)!=null&&s.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},e}var i=t.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},i.setEventListener=function(r){var s,o=this;this.setup=r,(s=this.cleanup)==null||s.call(this),this.cleanup=r(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},i.setFocused=function(r){this.focused=r,r&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(r){r()})},i.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(le),ee=new gt,bt=function(n){ce(t,n);function t(){var e;return e=n.call(this)||this,e.setup=function(r){var s;if(!Ke&&((s=window)!=null&&s.addEventListener)){var o=function(){return r()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},e}var i=t.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},i.setEventListener=function(r){var s,o=this;this.setup=r,(s=this.cleanup)==null||s.call(this),this.cleanup=r(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},i.setOnline=function(r){this.online=r,r&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(r){r()})},i.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(le),te=new bt;function _t(n){return Math.min(1e3*Math.pow(2,n),3e4)}function oe(n){return typeof(n==null?void 0:n.cancel)=="function"}var Ge=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function ve(n){return n instanceof Ge}var Je=function(t){var i=this,e=!1,r,s,o,a;this.abort=t.abort,this.cancel=function(y){return r==null?void 0:r(y)},this.cancelRetry=function(){e=!0},this.continueRetry=function(){e=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(y,c){o=y,a=c});var u=function(c){i.isResolved||(i.isResolved=!0,t.onSuccess==null||t.onSuccess(c),s==null||s(),o(c))},l=function(c){i.isResolved||(i.isResolved=!0,t.onError==null||t.onError(c),s==null||s(),a(c))},f=function(){return new Promise(function(c){s=c,i.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){s=void 0,i.isPaused=!1,t.onContinue==null||t.onContinue()})},m=function y(){if(!i.isResolved){var c;try{c=t.fn()}catch(d){c=Promise.reject(d)}r=function(v){if(!i.isResolved&&(l(new Ge(v)),i.abort==null||i.abort(),oe(c)))try{c.cancel()}catch{}},i.isTransportCancelable=oe(c),Promise.resolve(c).then(u).catch(function(d){var v,h;if(!i.isResolved){var p=(v=t.retry)!=null?v:3,g=(h=t.retryDelay)!=null?h:_t,E=typeof g=="function"?g(i.failureCount,d):g,b=p===!0||typeof p=="number"&&i.failureCount<p||typeof p=="function"&&p(i.failureCount,d);if(e||!b){l(d);return}i.failureCount++,t.onFail==null||t.onFail(i.failureCount,d),yt(E).then(function(){if(!ee.isFocused()||!te.isOnline())return f()}).then(function(){e?l(d):y()})}})}};m()},Ct=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(i){i()},this.batchNotifyFn=function(i){i()}}var t=n.prototype;return t.batch=function(e){var r;this.transactions++;try{r=e()}finally{this.transactions--,this.transactions||this.flush()}return r},t.schedule=function(e){var r=this;this.transactions?this.queue.push(e):qe(function(){r.notifyFn(e)})},t.batchCalls=function(e){var r=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.schedule(function(){e.apply(void 0,o)})}},t.flush=function(){var e=this,r=this.queue;this.queue=[],r.length&&qe(function(){e.batchNotifyFn(function(){r.forEach(function(s){e.notifyFn(s)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},n}(),D=new Ct,We=console;function Xe(){return We}function Ot(n){We=n}var wt=function(){function n(i){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.cache=i.cache,this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.initialState=i.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=i.meta,this.scheduleGc()}var t=n.prototype;return t.setOptions=function(e){var r;this.options=w({},this.defaultOptions,e),this.meta=e==null?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!=null?r:5*60*1e3)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),ht(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,r){var s,o,a=this.state.data,u=dt(e,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=He(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),u},t.setState=function(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})},t.cancel=function(e){var r,s=this.promise;return(r=this.retryer)==null||r.cancel(e),s?s.then(M).catch(M):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return e.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return e===void 0&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!pt(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,r=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});r&&r.refetch(),(e=this.retryer)==null||e.continue()},t.onOnline=function(){var e,r=this.observers.find(function(s){return s.shouldFetchOnReconnect()});r&&r.refetch(),(e=this.retryer)==null||e.continue()},t.addObserver=function(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(function(r){return r!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,r){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){var f=this.observers.find(function(g){return g.options.queryFn});f&&this.setOptions(f.options)}var m=ie(this.queryKey),y=Ve(),c={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(c,"signal",{enumerable:!0,get:function(){if(y)return s.abortSignalConsumed=!0,y.signal}});var d=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(c)):Promise.reject("Missing queryFn")},v={fetchOptions:r,options:this.options,queryKey:m,state:this.state,fetchFn:d,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var h;(h=this.options.behavior)==null||h.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var p;this.dispatch({type:"fetch",meta:(p=v.fetchOptions)==null?void 0:p.meta})}return this.retryer=new Je({fn:v.fetchFn,abort:y==null||(u=y.abort)==null?void 0:u.bind(y),onSuccess:function(E){s.setData(E),s.cache.config.onSuccess==null||s.cache.config.onSuccess(E,s),s.cacheTime===0&&s.optionalRemove()},onError:function(E){ve(E)&&E.silent||s.dispatch({type:"error",error:E}),ve(E)||(s.cache.config.onError==null||s.cache.config.onError(E,s),Xe().error(E)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var r=this;this.state=this.reducer(this.state,e),D.batch(function(){r.observers.forEach(function(s){s.onQueryUpdate(e)}),r.cache.notify({query:r,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var r=typeof e.initialData=="function"?e.initialData():e.initialData,s=typeof e.initialData<"u",o=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,a=typeof r<"u";return{data:r,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(e,r){var s,o;switch(r.type){case"failed":return w({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return w({},e,{isPaused:!0});case"continue":return w({},e,{isPaused:!1});case"fetch":return w({},e,{fetchFailureCount:0,fetchMeta:(s=r.meta)!=null?s:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return w({},e,{data:r.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:(o=r.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=r.error;return ve(a)&&a.revert&&this.revertState?w({},this.revertState):w({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return w({},e,{isInvalidated:!0});case"setState":return w({},e,r.state);default:return e}},n}(),Et=function(n){ce(t,n);function t(e){var r;return r=n.call(this)||this,r.config=e||{},r.queries=[],r.queriesMap={},r}var i=t.prototype;return i.build=function(r,s,o){var a,u=s.queryKey,l=(a=s.queryHash)!=null?a:Ee(u,s),f=this.get(l);return f||(f=new wt({cache:this,queryKey:u,queryHash:l,options:r.defaultQueryOptions(s),state:o,defaultOptions:r.getQueryDefaults(u),meta:s.meta}),this.add(f)),f},i.add=function(r){this.queriesMap[r.queryHash]||(this.queriesMap[r.queryHash]=r,this.queries.push(r),this.notify({type:"queryAdded",query:r}))},i.remove=function(r){var s=this.queriesMap[r.queryHash];s&&(r.destroy(),this.queries=this.queries.filter(function(o){return o!==r}),s===r&&delete this.queriesMap[r.queryHash],this.notify({type:"queryRemoved",query:r}))},i.clear=function(){var r=this;D.batch(function(){r.queries.forEach(function(s){r.remove(s)})})},i.get=function(r){return this.queriesMap[r]},i.getAll=function(){return this.queries},i.find=function(r,s){var o=z(r,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return Ae(a,u)})},i.findAll=function(r,s){var o=z(r,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return Ae(a,u)}):this.queries},i.notify=function(r){var s=this;D.batch(function(){s.listeners.forEach(function(o){o(r)})})},i.onFocus=function(){var r=this;D.batch(function(){r.queries.forEach(function(s){s.onFocus()})})},i.onOnline=function(){var r=this;D.batch(function(){r.queries.forEach(function(s){s.onOnline()})})},t}(le),Pt=function(){function n(i){this.options=w({},i.defaultOptions,i.options),this.mutationId=i.mutationId,this.mutationCache=i.mutationCache,this.observers=[],this.state=i.state||Tt(),this.meta=i.meta}var t=n.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){this.observers.indexOf(e)===-1&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(r){return r!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(M).catch(M)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e=this,r,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){e.mutationCache.config.onMutate==null||e.mutationCache.config.onMutate(e.state.variables,e)}).then(function(){return e.options.onMutate==null?void 0:e.options.onMutate(e.state.variables)}).then(function(a){a!==e.state.context&&e.dispatch({type:"loading",context:a,variables:e.state.variables})})),o.then(function(){return e.executeMutation()}).then(function(a){r=a,e.mutationCache.config.onSuccess==null||e.mutationCache.config.onSuccess(r,e.state.variables,e.state.context,e)}).then(function(){return e.options.onSuccess==null?void 0:e.options.onSuccess(r,e.state.variables,e.state.context)}).then(function(){return e.options.onSettled==null?void 0:e.options.onSettled(r,null,e.state.variables,e.state.context)}).then(function(){return e.dispatch({type:"success",data:r}),r}).catch(function(a){return e.mutationCache.config.onError==null||e.mutationCache.config.onError(a,e.state.variables,e.state.context,e),Xe().error(a),Promise.resolve().then(function(){return e.options.onError==null?void 0:e.options.onError(a,e.state.variables,e.state.context)}).then(function(){return e.options.onSettled==null?void 0:e.options.onSettled(void 0,a,e.state.variables,e.state.context)}).then(function(){throw e.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var e=this,r;return this.retryer=new Je({fn:function(){return e.options.mutationFn?e.options.mutationFn(e.state.variables):Promise.reject("No mutationFn found")},onFail:function(){e.dispatch({type:"failed"})},onPause:function(){e.dispatch({type:"pause"})},onContinue:function(){e.dispatch({type:"continue"})},retry:(r=this.options.retry)!=null?r:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var r=this;this.state=Ft(this.state,e),D.batch(function(){r.observers.forEach(function(s){s.onMutationUpdate(e)}),r.mutationCache.notify(r)})},n}();function Tt(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ft(n,t){switch(t.type){case"failed":return w({},n,{failureCount:n.failureCount+1});case"pause":return w({},n,{isPaused:!0});case"continue":return w({},n,{isPaused:!1});case"loading":return w({},n,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return w({},n,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return w({},n,{data:void 0,error:t.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return w({},n,t.state);default:return n}}var At=function(n){ce(t,n);function t(e){var r;return r=n.call(this)||this,r.config=e||{},r.mutations=[],r.mutationId=0,r}var i=t.prototype;return i.build=function(r,s,o){var a=new Pt({mutationCache:this,mutationId:++this.mutationId,options:r.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?r.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},i.add=function(r){this.mutations.push(r),this.notify(r)},i.remove=function(r){this.mutations=this.mutations.filter(function(s){return s!==r}),r.cancel(),this.notify(r)},i.clear=function(){var r=this;D.batch(function(){r.mutations.forEach(function(s){r.remove(s)})})},i.getAll=function(){return this.mutations},i.find=function(r){return typeof r.exact>"u"&&(r.exact=!0),this.mutations.find(function(s){return xe(r,s)})},i.findAll=function(r){return this.mutations.filter(function(s){return xe(r,s)})},i.notify=function(r){var s=this;D.batch(function(){s.listeners.forEach(function(o){o(r)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var r=this.mutations.filter(function(s){return s.state.isPaused});return D.batch(function(){return r.reduce(function(s,o){return s.then(function(){return o.continue().catch(M)})},Promise.resolve())})},t}(le);function xt(){return{onFetch:function(t){t.fetchFn=function(){var i,e,r,s,o,a,u=(i=t.fetchOptions)==null||(e=i.meta)==null?void 0:e.refetchPage,l=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,f=l==null?void 0:l.pageParam,m=(l==null?void 0:l.direction)==="forward",y=(l==null?void 0:l.direction)==="backward",c=((o=t.state.data)==null?void 0:o.pages)||[],d=((a=t.state.data)==null?void 0:a.pageParams)||[],v=Ve(),h=v==null?void 0:v.signal,p=d,g=!1,E=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(T,$,P,S){return p=S?[$].concat(p):[].concat(p,[$]),S?[P].concat(T):[].concat(T,[P])},_=function(T,$,P,S){if(g)return Promise.reject("Cancelled");if(typeof P>"u"&&!$&&T.length)return Promise.resolve(T);var q={queryKey:t.queryKey,signal:h,pageParam:P,meta:t.meta},I=E(q),X=Promise.resolve(I).then(function(et){return b(T,P,et,S)});if(oe(I)){var pe=X;pe.cancel=I.cancel}return X},F;if(!c.length)F=_([]);else if(m){var Q=typeof f<"u",A=Q?f:Se(t.options,c);F=_(c,Q,A)}else if(y){var U=typeof f<"u",K=U?f:Dt(t.options,c);F=_(c,U,K,!0)}else(function(){p=[];var x=typeof t.options.getNextPageParam>"u",T=u&&c[0]?u(c[0],0,c):!0;F=T?_([],x,d[0]):Promise.resolve(b([],d[0],c[0]));for(var $=function(q){F=F.then(function(I){var X=u&&c[q]?u(c[q],q,c):!0;if(X){var pe=x?d[q]:Se(t.options,I);return _(I,x,pe)}return Promise.resolve(b(I,d[q],c[q]))})},P=1;P<c.length;P++)$(P)})();var k=F.then(function(x){return{pages:x,pageParams:p}}),L=k;return L.cancel=function(){g=!0,v==null||v.abort(),oe(F)&&F.cancel()},k}}}}function Se(n,t){return n.getNextPageParam==null?void 0:n.getNextPageParam(t[t.length-1],t)}function Dt(n,t){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(t[0],t)}var qt=function(){function n(i){i===void 0&&(i={}),this.queryCache=i.queryCache||new Et,this.mutationCache=i.mutationCache||new At,this.defaultOptions=i.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=n.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=ee.subscribe(function(){ee.isFocused()&&te.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=te.subscribe(function(){ee.isFocused()&&te.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,r;(e=this.unsubscribeFocus)==null||e.call(this),(r=this.unsubscribeOnline)==null||r.call(this)},t.isFetching=function(e,r){var s=z(e,r),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(e){return this.mutationCache.findAll(w({},e,{fetching:!0})).length},t.getQueryData=function(e,r){var s;return(s=this.queryCache.find(e,r))==null?void 0:s.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(r){var s=r.queryKey,o=r.state,a=o.data;return[s,a]})},t.setQueryData=function(e,r,s){var o=me(e),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(r,s)},t.setQueriesData=function(e,r,s){var o=this;return D.batch(function(){return o.getQueryCache().findAll(e).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,r,s)]})})},t.getQueryState=function(e,r){var s;return(s=this.queryCache.find(e,r))==null?void 0:s.state},t.removeQueries=function(e,r){var s=z(e,r),o=s[0],a=this.queryCache;D.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},t.resetQueries=function(e,r,s){var o=this,a=z(e,r,s),u=a[0],l=a[1],f=this.queryCache,m=w({},u,{active:!0});return D.batch(function(){return f.findAll(u).forEach(function(y){y.reset()}),o.refetchQueries(m,l)})},t.cancelQueries=function(e,r,s){var o=this,a=z(e,r,s),u=a[0],l=a[1],f=l===void 0?{}:l;typeof f.revert>"u"&&(f.revert=!0);var m=D.batch(function(){return o.queryCache.findAll(u).map(function(y){return y.cancel(f)})});return Promise.all(m).then(M).catch(M)},t.invalidateQueries=function(e,r,s){var o,a,u,l=this,f=z(e,r,s),m=f[0],y=f[1],c=w({},m,{active:(o=(a=m.refetchActive)!=null?a:m.active)!=null?o:!0,inactive:(u=m.refetchInactive)!=null?u:!1});return D.batch(function(){return l.queryCache.findAll(m).forEach(function(d){d.invalidate()}),l.refetchQueries(c,y)})},t.refetchQueries=function(e,r,s){var o=this,a=z(e,r,s),u=a[0],l=a[1],f=D.batch(function(){return o.queryCache.findAll(u).map(function(y){return y.fetch(void 0,w({},l,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),m=Promise.all(f).then(M);return l!=null&&l.throwOnError||(m=m.catch(M)),m},t.fetchQuery=function(e,r,s){var o=me(e,r,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},t.prefetchQuery=function(e,r,s){return this.fetchQuery(e,r,s).then(M).catch(M)},t.fetchInfiniteQuery=function(e,r,s){var o=me(e,r,s);return o.behavior=xt(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(e,r,s){return this.fetchInfiniteQuery(e,r,s).then(M).catch(M)},t.cancelMutations=function(){var e=this,r=D.batch(function(){return e.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(r).then(M).catch(M)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,r){var s=this.queryDefaults.find(function(o){return V(e)===V(o.queryKey)});s?s.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})},t.getQueryDefaults=function(e){var r;return e?(r=this.queryDefaults.find(function(s){return se(e,s.queryKey)}))==null?void 0:r.defaultOptions:void 0},t.setMutationDefaults=function(e,r){var s=this.mutationDefaults.find(function(o){return V(e)===V(o.mutationKey)});s?s.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})},t.getMutationDefaults=function(e){var r;return e?(r=this.mutationDefaults.find(function(s){return se(e,s.mutationKey)}))==null?void 0:r.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(e!=null&&e._defaulted)return e;var r=w({},this.defaultOptions.queries,this.getQueryDefaults(e==null?void 0:e.queryKey),e,{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=Ee(r.queryKey,r)),r},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return e!=null&&e._defaulted?e:w({},this.defaultOptions.mutations,this.getMutationDefaults(e==null?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),St=nt.unstable_batchedUpdates;D.setBatchNotifyFunction(St);var Mt=console;Ot(Mt);var Me=C.createContext(void 0),Lt=C.createContext(!1);function $t(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Me),window.ReactQueryClientContext):Me}var Rt=function(t){var i=t.client,e=t.contextSharing,r=e===void 0?!1:e,s=t.children;C.useEffect(function(){return i.mount(),function(){i.unmount()}},[i]);var o=$t(r);return C.createElement(Lt.Provider,{value:r},C.createElement(o.Provider,{value:i},s))};function Ye(n){var t,i,e="";if(typeof n=="string"||typeof n=="number")e+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(i=Ye(n[t]))&&(e&&(e+=" "),e+=i);else for(t in n)n[t]&&(e&&(e+=" "),e+=t);return e}function H(){for(var n,t,i=0,e="";i<arguments.length;)(n=arguments[i++])&&(t=Ye(n))&&(e&&(e+=" "),e+=t);return e}const ne=n=>typeof n=="number"&&!isNaN(n),ae=n=>typeof n=="string",R=n=>typeof n=="function",re=n=>ae(n)||R(n)?n:null,ye=n=>O.isValidElement(n)||ae(n)||R(n)||ne(n);function It(n,t,i){i===void 0&&(i=300);const{scrollHeight:e,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=e+"px",r.transition=`all ${i}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,i)})})}function de(n){let{enter:t,exit:i,appendPosition:e=!1,collapse:r=!0,collapseDuration:s=300}=n;return function(o){let{children:a,position:u,preventExitTransition:l,done:f,nodeRef:m,isIn:y}=o;const c=e?`${t}--${u}`:t,d=e?`${i}--${u}`:i,v=O.useRef(0);return O.useLayoutEffect(()=>{const h=m.current,p=c.split(" "),g=E=>{E.target===m.current&&(h.dispatchEvent(new Event("d")),h.removeEventListener("animationend",g),h.removeEventListener("animationcancel",g),v.current===0&&E.type!=="animationcancel"&&h.classList.remove(...p))};h.classList.add(...p),h.addEventListener("animationend",g),h.addEventListener("animationcancel",g)},[]),O.useEffect(()=>{const h=m.current,p=()=>{h.removeEventListener("animationend",p),r?It(h,f,s):f()};y||(l?p():(v.current=1,h.className+=` ${d}`,h.addEventListener("animationend",p)))},[y]),C.createElement(C.Fragment,null,a)}}function Le(n,t){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:t}:{}}const G={list:new Map,emitQueue:new Map,on(n,t){return this.list.has(n)||this.list.set(n,[]),this.list.get(n).push(t),this},off(n,t){if(t){const i=this.list.get(n).filter(e=>e!==t);return this.list.set(n,i),this}return this.list.delete(n),this},cancelEmit(n){const t=this.emitQueue.get(n);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(n)),this},emit(n){this.list.has(n)&&this.list.get(n).forEach(t=>{const i=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(n)||this.emitQueue.set(n,[]),this.emitQueue.get(n).push(i)})}},Y=n=>{let{theme:t,type:i,...e}=n;return C.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${i})`,...e})},ge={info:function(n){return C.createElement(Y,{...n},C.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return C.createElement(Y,{...n},C.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return C.createElement(Y,{...n},C.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return C.createElement(Y,{...n},C.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return C.createElement("div",{className:"Toastify__spinner"})}};function Qt(n){const[,t]=O.useReducer(c=>c+1,0),[i,e]=O.useState([]),r=O.useRef(null),s=O.useRef(new Map).current,o=c=>i.indexOf(c)!==-1,a=O.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:n,containerId:null,isToastActive:o,getToast:c=>s.get(c)}).current;function u(c){let{containerId:d}=c;const{limit:v}=a.props;!v||d&&a.containerId!==d||(a.count-=a.queue.length,a.queue=[])}function l(c){e(d=>c==null?[]:d.filter(v=>v!==c))}function f(){const{toastContent:c,toastProps:d,staleId:v}=a.queue.shift();y(c,d,v)}function m(c,d){let{delay:v,staleId:h,...p}=d;if(!ye(c)||function(L){return!r.current||a.props.enableMultiContainer&&L.containerId!==a.props.containerId||s.has(L.toastId)&&L.updateId==null}(p))return;const{toastId:g,updateId:E,data:b}=p,{props:_}=a,F=()=>l(g),Q=E==null;Q&&a.count++;const A={..._,style:_.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(p).filter(L=>{let[x,T]=L;return T!=null})),toastId:g,updateId:E,data:b,closeToast:F,isIn:!1,className:re(p.className||_.toastClassName),bodyClassName:re(p.bodyClassName||_.bodyClassName),progressClassName:re(p.progressClassName||_.progressClassName),autoClose:!p.isLoading&&(U=p.autoClose,K=_.autoClose,U===!1||ne(U)&&U>0?U:K),deleteToast(){const L=Le(s.get(g),"removed");s.delete(g),G.emit(4,L);const x=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),x>0){const T=g==null?a.props.limit:1;if(x===1||T===1)a.displayedToast++,f();else{const $=T>x?x:T;a.displayedToast=$;for(let P=0;P<$;P++)f()}}else t()}};var U,K;A.iconOut=function(L){let{theme:x,type:T,isLoading:$,icon:P}=L,S=null;const q={theme:x,type:T};return P===!1||(R(P)?S=P(q):O.isValidElement(P)?S=O.cloneElement(P,q):ae(P)||ne(P)?S=P:$?S=ge.spinner():(I=>I in ge)(T)&&(S=ge[T](q))),S}(A),R(p.onOpen)&&(A.onOpen=p.onOpen),R(p.onClose)&&(A.onClose=p.onClose),A.closeButton=_.closeButton,p.closeButton===!1||ye(p.closeButton)?A.closeButton=p.closeButton:p.closeButton===!0&&(A.closeButton=!ye(_.closeButton)||_.closeButton);let k=c;O.isValidElement(c)&&!ae(c.type)?k=O.cloneElement(c,{closeToast:F,toastProps:A,data:b}):R(c)&&(k=c({closeToast:F,toastProps:A,data:b})),_.limit&&_.limit>0&&a.count>_.limit&&Q?a.queue.push({toastContent:k,toastProps:A,staleId:h}):ne(v)?setTimeout(()=>{y(k,A,h)},v):y(k,A,h)}function y(c,d,v){const{toastId:h}=d;v&&s.delete(v);const p={content:c,props:d};s.set(h,p),e(g=>[...g,h].filter(E=>E!==v)),G.emit(4,Le(p,p.props.updateId==null?"added":"updated"))}return O.useEffect(()=>(a.containerId=n.containerId,G.cancelEmit(3).on(0,m).on(1,c=>r.current&&l(c)).on(5,u).emit(2,a),()=>{s.clear(),G.emit(3,a)}),[]),O.useEffect(()=>{a.props=n,a.isToastActive=o,a.displayedToast=i.length}),{getToastToRender:function(c){const d=new Map,v=Array.from(s.values());return n.newestOnTop&&v.reverse(),v.forEach(h=>{const{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>c(h[0],h[1]))},containerRef:r,isToastActive:o}}function $e(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}function Re(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientY:n.clientY}function Nt(n){const[t,i]=O.useState(!1),[e,r]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=O.useRef(n),{autoClose:u,pauseOnHover:l,closeToast:f,onClick:m,closeOnClick:y}=n;function c(b){if(n.draggable){b.nativeEvent.type==="touchstart"&&b.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),document.addEventListener("touchmove",p),document.addEventListener("touchend",g);const _=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=_.getBoundingClientRect(),_.style.transition="",o.x=$e(b.nativeEvent),o.y=Re(b.nativeEvent),n.draggableDirection==="x"?(o.start=o.x,o.removalDistance=_.offsetWidth*(n.draggablePercent/100)):(o.start=o.y,o.removalDistance=_.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent/100))}}function d(b){if(o.boundingRect){const{top:_,bottom:F,left:Q,right:A}=o.boundingRect;b.nativeEvent.type!=="touchend"&&n.pauseOnHover&&o.x>=Q&&o.x<=A&&o.y>=_&&o.y<=F?h():v()}}function v(){i(!0)}function h(){i(!1)}function p(b){const _=s.current;o.canDrag&&_&&(o.didMove=!0,t&&h(),o.x=$e(b),o.y=Re(b),o.delta=n.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),_.style.transform=`translate${n.draggableDirection}(${o.delta}px)`,_.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",g);const b=s.current;if(o.canDrag&&o.didMove&&b){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),void n.closeToast();b.style.transition="transform 0.2s, opacity 0.2s",b.style.transform=`translate${n.draggableDirection}(0)`,b.style.opacity="1"}}O.useEffect(()=>{a.current=n}),O.useEffect(()=>(s.current&&s.current.addEventListener("d",v,{once:!0}),R(n.onOpen)&&n.onOpen(O.isValidElement(n.children)&&n.children.props),()=>{const b=a.current;R(b.onClose)&&b.onClose(O.isValidElement(b.children)&&b.children.props)}),[]),O.useEffect(()=>(n.pauseOnFocusLoss&&(document.hasFocus()||h(),window.addEventListener("focus",v),window.addEventListener("blur",h)),()=>{n.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",h))}),[n.pauseOnFocusLoss]);const E={onMouseDown:c,onTouchStart:c,onMouseUp:d,onTouchEnd:d};return u&&l&&(E.onMouseEnter=h,E.onMouseLeave=v),y&&(E.onClick=b=>{m&&m(b),o.canCloseOnClick&&f()}),{playToast:v,pauseToast:h,isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:E}}function Ze(n){let{closeToast:t,theme:i,ariaLabel:e="close"}=n;return C.createElement("button",{className:`Toastify__close-button Toastify__close-button--${i}`,type:"button",onClick:r=>{r.stopPropagation(),t(r)},"aria-label":e},C.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},C.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function jt(n){let{delay:t,isRunning:i,closeToast:e,type:r="default",hide:s,className:o,style:a,controlledProgress:u,progress:l,rtl:f,isIn:m,theme:y}=n;const c=s||u&&l===0,d={...a,animationDuration:`${t}ms`,animationPlayState:i?"running":"paused",opacity:c?0:1};u&&(d.transform=`scaleX(${l})`);const v=H("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),h=R(o)?o({rtl:f,type:r,defaultClassName:v}):H(v,o);return C.createElement("div",{role:"progressbar","aria-hidden":c?"true":"false","aria-label":"notification timer",className:h,style:d,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{m&&e()}})}const Ut=n=>{const{isRunning:t,preventExitTransition:i,toastRef:e,eventHandlers:r}=Nt(n),{closeButton:s,children:o,autoClose:a,onClick:u,type:l,hideProgressBar:f,closeToast:m,transition:y,position:c,className:d,style:v,bodyClassName:h,bodyStyle:p,progressClassName:g,progressStyle:E,updateId:b,role:_,progress:F,rtl:Q,toastId:A,deleteToast:U,isIn:K,isLoading:k,iconOut:L,closeOnClick:x,theme:T}=n,$=H("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":x}),P=R(d)?d({rtl:Q,position:c,type:l,defaultClassName:$}):H($,d),S=!!F||!a,q={closeToast:m,type:l,theme:T};let I=null;return s===!1||(I=R(s)?s(q):O.isValidElement(s)?O.cloneElement(s,q):Ze(q)),C.createElement(y,{isIn:K,done:U,position:c,preventExitTransition:i,nodeRef:e},C.createElement("div",{id:A,onClick:u,className:P,...r,style:v,ref:e},C.createElement("div",{...K&&{role:_},className:R(h)?h({type:l}):H("Toastify__toast-body",h),style:p},L!=null&&C.createElement("div",{className:H("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},L),C.createElement("div",null,o)),I,C.createElement(jt,{...b&&!S?{key:`pb-${b}`}:{},rtl:Q,theme:T,delay:a,isRunning:t,isIn:K,closeToast:m,hide:f,type:l,style:E,className:g,controlledProgress:S,progress:F||0})))},he=function(n,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}},kt=de(he("bounce",!0));de(he("slide",!0));de(he("zoom"));de(he("flip"));const Oe=O.forwardRef((n,t)=>{const{getToastToRender:i,containerRef:e,isToastActive:r}=Qt(n),{className:s,style:o,rtl:a,containerId:u}=n;function l(f){const m=H("Toastify__toast-container",`Toastify__toast-container--${f}`,{"Toastify__toast-container--rtl":a});return R(s)?s({position:f,rtl:a,defaultClassName:m}):H(m,re(s))}return O.useEffect(()=>{t&&(t.current=e.current)},[]),C.createElement("div",{ref:e,className:"Toastify",id:u},i((f,m)=>{const y=m.length?{...o}:{...o,pointerEvents:"none"};return C.createElement("div",{className:l(f),style:y,key:`container-${f}`},m.map((c,d)=>{let{content:v,props:h}=c;return C.createElement(Ut,{...h,isIn:r(h.toastId),style:{...h.style,"--nth":d+1,"--len":m.length},key:`toast-${h.key}`},v)}))}))});Oe.displayName="ToastContainer",Oe.defaultProps={position:"top-right",transition:kt,autoClose:5e3,closeButton:Ze,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Ie,be=new Map,Qe=[];G.on(2,n=>{Ie=n.containerId||n,be.set(Ie,n),Qe.forEach(t=>{G.emit(0,t.content,t.options)}),Qe=[]}).on(3,n=>{be.delete(n.containerId||n),be.size===0&&G.off(0).off(1).off(5)});const Bt=()=>window.API_BASE_URL?window.API_BASE_URL:(window.location.hostname==="localhost"&&window.location.port==="8000",""),we=Bt(),W=n=>{if(n.startsWith("http://")||n.startsWith("https://"))return n;const t=n.startsWith("/")?n:`/${n}`;return we?`${we}${t}`:t};window.location.hostname==="localhost"&&console.log("ðŸ”§ Configuration API:",{apiBaseUrl:we||"(chemin relatif)",currentHost:window.location.host});const Kt=3e3,Z=(n,t="info")=>{const i=document.getElementById("toast-container");if(!i){console.error("Toast container not found");return}const e=document.createElement("div");e.className=`toast toast-${t}`,e.textContent=n;const r={success:"âœ…",error:"âŒ",info:"â„¹ï¸",warning:"âš ï¸"};e.textContent=`${r[t]||""} ${n}`,i.appendChild(e),setTimeout(()=>{e.classList.add("show")},10),setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)},Kt)},N={success:n=>Z(n,"success"),error:n=>Z(n,"error"),info:n=>Z(n,"info"),warning:n=>Z(n,"warning")};class zt{constructor(){this.user=null,this.loading=!1,this.listeners=[],this.loadUser()}onAuthChange(t){this.listeners.push(t),t(this.user,this.loading)}notifyListeners(){this.listeners.forEach(t=>t(this.user,this.loading))}async loadUser(){if(this.loading=!0,this.notifyListeners(),!(sessionStorage.getItem("forceLoggedOut")==="true")&&window.DJANGO_USER&&window.DJANGO_USER.isAuthenticated){this.user={username:window.DJANGO_USER.username},this.loading=!1,this.notifyListeners();return}const i=localStorage.getItem("access_token");if(i){try{const e=await fetch(W("/api/users/me/"),{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),r=e.headers.get("content-type");if(e.ok&&r&&r.includes("application/json")){const s=await e.json(),o=Array.isArray(s.permissions)?s.permissions:s.permissions||[];this.user={id:s.id,username:s.username,email:s.email,is_staff:s.is_staff,is_superuser:s.is_superuser,is_active:s.is_active,permissions:o}}else await this.loadUserFromList()}catch(e){console.error("Erreur lors du chargement de l'utilisateur:",e),await this.loadUserFromList()}sessionStorage.removeItem("forceLoggedOut")}this.loading=!1,this.notifyListeners()}async loadUserFromList(){try{const t=localStorage.getItem("access_token"),i=await fetch(W("/api/users/"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),e=i.headers.get("content-type");if(i.ok&&e&&e.includes("application/json")){const r=await i.json(),s=Array.isArray(r)?r:r.results||[];if(s.length>0){const o=s[0];this.user={id:o.id,username:o.username,email:o.email,is_staff:o.is_staff,is_superuser:o.is_superuser,is_active:o.is_active,permissions:o.permissions||[]}}else this.user={username:"User"}}else this.user={username:"User"}}catch(t){console.error("Erreur lors du chargement depuis la liste:",t),this.user={username:"User"}}}async login(t,i){try{const e=await fetch(W("/api/auth/token/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),r=e.headers.get("content-type");if(!e.ok){let u="Erreur de connexion";return r&&r.includes("application/json")&&(u=(await e.json()).detail||u),N.error(u),{success:!1,error:u}}if(!r||!r.includes("application/json"))return N.error("Erreur serveur"),{success:!1,error:"Erreur serveur"};const s=await e.json(),{access:o,refresh:a}=s;localStorage.setItem("access_token",o),localStorage.setItem("refresh_token",a);try{const u=await fetch(W("/api/users/me/"),{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),l=u.headers.get("content-type");if(u.ok&&l&&l.includes("application/json")){const f=await u.json(),m=Array.isArray(f.permissions)?f.permissions:f.permissions||[];this.user={id:f.id,username:f.username,email:f.email,is_staff:f.is_staff,is_superuser:f.is_superuser,is_active:f.is_active,permissions:m}}else{const f=await fetch(W("/api/users/"),{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),m=f.headers.get("content-type");if(f.ok&&m&&m.includes("application/json")){const y=await f.json(),d=(Array.isArray(y)?y:y.results||[]).find(v=>v.username===t);d?this.user={id:d.id,username:d.username,email:d.email,is_staff:d.is_staff,is_superuser:d.is_superuser,is_active:d.is_active}:this.user={username:t}}else this.user={username:t}}}catch{this.user={username:t}}return sessionStorage.removeItem("forceLoggedOut"),N.success("Connexion rÃ©ussie"),this.notifyListeners(),{success:!0}}catch(e){const r=e.message||"Erreur de connexion";return N.error(r),{success:!1,error:r}}}logout(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),this.user=null,sessionStorage.setItem("forceLoggedOut","true"),window.DJANGO_USER&&(window.DJANGO_USER.isAuthenticated=!1,window.DJANGO_USER.username=""),N.info("DÃ©connexion rÃ©ussie"),this.notifyListeners(),window.location.href="/login"}isAuthenticated(){return!!this.user}hasPermission(t,i="peut_voir"){var e,r;if((e=this.user)!=null&&e.is_superuser)return!0;if(!((r=this.user)!=null&&r.permissions))return!1;if(Array.isArray(this.user.permissions)){const s=this.user.permissions.find(o=>o.fonctionnalite===t);return s?s[i]:!1}return!1}getToken(){return localStorage.getItem("access_token")}getAuthHeaders(){const t=this.getToken();return{Authorization:t?`Bearer ${t}`:"","Content-Type":"application/json"}}}new zt;let Ht=[],j=[],J="",Ne=null;function Pe(){const n=document.getElementById("commander-public-content");if(!n)return;const t=[];Ht.forEach(i=>{i.menu_plats&&Array.isArray(i.menu_plats)&&i.menu_plats.forEach(e=>{var r,s,o,a;t.push({id:e.id,nom:((r=e.plat)==null?void 0:r.nom)||((s=e.plat_detail)==null?void 0:s.nom)||"Plat",prix:parseFloat(e.prix_jour)||0,stock_restant:e.stock_restant,categorie:((o=e.plat)==null?void 0:o.categorie_restau_display)||((a=e.plat_detail)==null?void 0:a.categorie_restau_display)||""})})}),n.innerHTML=`
    <div class="commander-grid">
      <!-- Menu du jour -->
      <div>
        <h2 style="color: #124684; margin-bottom: 1rem; font-size: 1.3rem;">Plats disponibles</h2>
        <div style="display: grid; gap: 1rem;">
          ${t.length===0?`
            <div class="card" style="padding: 2rem; text-align: center;">
              <p style="color: #64748b;">Aucun plat disponible</p>
            </div>
          `:t.map(i=>`
            <div class="card" style="padding: 1rem; border: 2px solid #e5e7eb;">
              <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 0.5rem;">
                <div style="flex: 1; min-width: 150px;">
                  <h3 style="color: #124684; font-size: 1.1rem; margin-bottom: 0.25rem;">${i.nom}</h3>
                  ${i.categorie?`<span style="background: #f1f5f9; padding: 0.2rem 0.5rem; border-radius: 8px; font-size: 0.75rem; color: #475569;">${i.categorie}</span>`:""}
                </div>
                <div style="text-align: right;">
                  <button 
                    class="btn btn-primary" 
                    onclick="window.ajouterAuPanier(${i.id}, '${i.nom.replace(/'/g,"\\'").replace(/"/g,"")}', ${i.prix})"
                    style="background: #124684; border: none; padding: 0.5rem 1rem; font-weight: bold; border-radius: 6px; font-size: 0.9rem;"
                    ${i.stock_restant!==null&&i.stock_restant<=0?'disabled style="opacity: 0.5; cursor: not-allowed;"':""}
                  >
                    ${i.stock_restant!==null&&i.stock_restant<=0?"Epuise":"Choisir"}
                  </button>
                </div>
              </div>
            </div>
          `).join("")}
        </div>
      </div>

      <!-- Panier -->
      <div>
        <div class="card" style="position: sticky; top: 2rem; background: #124684; color: white;">
          <h2 style="color: white; margin-bottom: 1.5rem;">Votre commande</h2>
          
          ${j.length===0?`
            <p style="color: rgba(255,255,255,0.8); text-align: center; padding: 2rem;">
              Votre panier est vide
            </p>
          `:`
            <div style="margin-bottom: 1.5rem;">
              ${j.map((i,e)=>`
                <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; margin-bottom: 0.5rem;">
                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                      <div style="font-weight: bold;">${i.nom}</div>
                    </div>
                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                      <button onclick="window.retirerDuPanier(${e})" style="background: #ef4444; border: none; color: white; padding: 0.5rem; border-radius: 6px; cursor: pointer;">Retirer</button>
                    </div>
                  </div>
                </div>
              `).join("")}
            </div>
            
            
            <div style="margin-bottom: 1rem;">
              <label style="display: block; margin-bottom: 0.5rem; color: rgba(255,255,255,0.9);">Votre nom complet *</label>
              <input 
                type="text" 
                id="utilisateur-nom" 
                placeholder="Ex: Jean Dupont"
                value="${J}"
                style="width: 100%; padding: 0.75rem; border: none; border-radius: 6px; font-size: 1rem;"
              />
            </div>
            
            <div style="margin-bottom: 1rem;">
              <label style="display: block; margin-bottom: 0.5rem; color: rgba(255,255,255,0.9);">Votre email (optionnel)</label>
              <input 
                type="email" 
                id="utilisateur-email" 
                placeholder="Ex: jean.dupont@email.com"
                style="width: 100%; padding: 0.75rem; border: none; border-radius: 6px; font-size: 1rem;"
              />
            </div>
            
            <button 
              onclick="window.validerCommande()" 
              class="btn" 
              style="width: 100%; background: white; color: #124684; font-weight: bold; font-size: 1.1rem; padding: 1rem; border: none; border-radius: 6px;"
            >
              Valider ma commande
            </button>
          `}
        </div>
      </div>
    </div>
  `}window.ajouterAuPanier=function(n,t,i){const e=j.find(r=>r.menuPlatId===n);e?e.quantite+=1:j.push({menuPlatId:n,nom:t,prix:i,quantite:1}),Pe(),N.success(`${t} ajoute au panier`)};window.modifierQuantite=function(n,t){j[n].quantite+=t,j[n].quantite<=0&&j.splice(n,1),Pe()};window.retirerDuPanier=function(n){j.splice(n,1),Pe(),N.info("Article retirÃ© du panier")};window.validerCommande=async function(){var t,i,e;J=(t=document.getElementById("utilisateur-nom"))==null?void 0:t.value.trim();const n=((i=document.getElementById("utilisateur-email"))==null?void 0:i.value.trim())||"";if(!J){N.error("Veuillez entrer votre nom");return}if(j.length===0){N.error("Votre panier est vide");return}try{const r={nom_employe:J,email_employe:n,lignes:j.map(m=>({menu_plat_id:m.menuPlatId,quantite:m.quantite}))},s=Ne?`/api/restauration/public/commander/${Ne}/`:"/api/restauration/public/commander/aujourdhui/",o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){const m=await o.json().catch(()=>({}));throw new Error(m.error||"Erreur lors de la commande")}const a=await o.json();N.success("Commande enregistree !");const u=J,l=(e=document.getElementById("utilisateur-email"))==null?void 0:e.value.trim();j=[],J="";const f=document.getElementById("commander-public-content");f.innerHTML=`
      <div class="card" style="text-align: center; padding: 2rem; background: #10b981; color: white;">
        <h2 style="color: white; font-size: 1.8rem; margin-bottom: 1rem;">Commande enregistree !</h2>
        <p style="color: rgba(255,255,255,0.9); font-size: 1rem; margin-bottom: 1rem;">
          Merci <strong>${u}</strong>, votre commande a ete enregistree avec succes.
        </p>
        <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">
          Votre repas sera pret pour le dejeuner.
        </p>
        ${l?`
          <p style="color: rgba(255,255,255,0.8); font-size: 0.85rem; margin-top: 0.5rem;">
            Confirmation envoyee a <strong>${l}</strong>.
          </p>
        `:""}
        <button onclick="location.reload()" class="btn" style="background: white; color: #10b981; font-weight: bold; padding: 1rem 2rem; border: none; font-size: 1rem; margin-top: 1rem; border-radius: 6px;">
          Nouvelle commande
        </button>
      </div>
    `}catch(r){console.error("Erreur validation commande:",r),N.error(r.message||"Erreur lors de la validation de la commande")}};function Vt(){return B("div",{className:"App",children:Be(rt,{children:[B(Te,{path:"/",element:B("div",{id:"app"})}),B(Te,{path:"/commander-public/:token?",element:B("div",{id:"app"})})]})})}const Gt=new qt;_e.createRoot(document.getElementById("root")).render(B(C.StrictMode,{children:B(Rt,{client:Gt,children:Be(it,{children:[B(Vt,{}),B(Oe,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})})}));
